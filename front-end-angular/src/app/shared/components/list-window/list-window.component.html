<nb-card [nbSpinner]="loading">
    <nb-card-header>
        {{ title }}
        <button nbButton (click)="onNew()" status="primary"><nb-icon icon="plus" pack="fas" class="new-button"></nb-icon></button>
    </nb-card-header>
    <nb-card-body>
        <p-table [columns]="columns" [value]="source" styleClass="p-datatable p-datatable-sm" sortMode="multiple" dataKey="id">
            <ng-template pTemplate="header" let-columns>
                <tr>
                    <th *ngFor="let col of columns" [pSortableColumn]="col.field">
                        <span><p-sortIcon [field]="col.field"></p-sortIcon> {{col.header}}</span>
                    </th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-rowData let-columns="columns">
                <tr [pSelectableRow]="rowData" (click)="onSelect(rowData.id)">
                    <td *ngFor="let col of columns">
                        {{rowData[col.field]}}
                    </td>
                </tr>
            </ng-template>
            <ng-template pTemplate="emptymessage" let-columns>
                <tr>
                    <td [attr.colspan]="columns.length">
                        No se encontraron datos
                    </td>
                </tr>
            </ng-template>
        </p-table>
    </nb-card-body>
</nb-card>
